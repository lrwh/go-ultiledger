syntax = "proto3";

package ultpb;

import "asset.proto";

// every operation is related to a specific account and 
// each transaction could contain one or more operations
enum OpTypeEnum {
  CREATE_ACCOUNT = 0;
  PAYMENT = 1;
}

// operation
message Op {
  // operation type of this transaction
  OpTypeEnum OpType = 1;
  // operation details in wire format
  bytes Data = 2;
}

// list of transactions
message Transaction {
  // the source account for sending asset to the new account
  string AccountID = 1;
  // fee to pay
  uint64 Fee = 2;
  // extra note about the transaction
  string Note = 3;
  // list of operations
  repeated Op OpList = 4;
}

// create a new account by sending asset to it
message CreateAccountOp {
  // destination account
  string AccountID = 1;
  // the initial asset and balance
  Asset.AssetTypeEnum AssetType = 2;
  int64 Balance = 3;
}

// peer to peer payment
message PaymentOp {
  // destination account of the payment
  string AccountID = 1;
  // asset type of payment
  Asset.AssetTypeEnum AssetType = 2;
  // amount of payment in specified asset type
  int64 Amount = 3;
}
